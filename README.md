[![INFORMS Journal on Computing Logo](https://INFORMSJoC.github.io/logos/INFORMS_Journal_on_Computing_Header.jpg)](https://pubsonline.informs.org/journal/ijoc)

# An Intelligent End-to-End NAS Framework for Electricity Forecasting

This archive is distributed in association with the [INFORMS Journal on
Computing](https://pubsonline.informs.org/journal/ijoc) under the [MIT License](LICENSE).

The code and data in this repository are a snapshot of the software and data
that were used in the research reported on in the paper 
[An Intelligent End-to-End NAS Framework for Electricity Forecasting](https://doi.org/10.1287/ijoc.2023.0034) (IAAS)
, authored by Jin Yang , Guangxin Jiang , Yinan Wang and Ying Chen. 

## Cite

To cite the contents of this repository, please cite both the paper and this repo, using their respective DOIs.

https://doi.org/10.1287/ijoc.2023.0034

https://doi.org/10.1287/ijoc.2023.0034.cd

Below is the BibTex for citing this snapshot of the respoitory.

```
@misc{IAAS,
  author =        {Jin Yang and Guangxin Jiang and Yinan Wang and Ying Chen},
  publisher =     {INFORMS Journal on Computing},
  title =         {{An Intelligent End-to-End NAS Framework for Electricity Forecasting}},
  year =          {2023},
  doi =           {10.1287/ijoc.2023.0034.cd},
  url =           {https://github.com/INFORMSJoC/2023.0034},
  note =          {Available for download at https://github.com/INFORMSJoC/2023.0034},
}  
```

## Description

This repository provides data for the problem and code for the method.
The main folders are `data`, `docs`, `results`, and `src`.

- `data`: This folder includes the data and the configuration files used in the paper. 
- `doc`: This folder contains the online supplement.
- `results`: This folder contains the results of the experiments.
- `src`: This folder contains the source code of IAAS and the code for experiment comparison.

## Building
The environment of this code is Python 3.8+ and pytorch. 

First, install the GPU version of [PyTorch](https://pytorch.org/get-started/locally/) (python3.8 and torch 1.13.0+cu116 in our case).

Second, install all the dependencies listed in ```src/requirements.txt```

## Results
[Figure 7](results%2FFigure%207.pdf) and
[Figure 9](results%2FFigure%209.pdf) in the paper show the boxplot of load and wind forecasting accuracies.

[Figure 6a.pdf](results%2FFigure%206a.pdf) and
[Figure 6b.pdf](results%2FFigure%206b.pdf) show the comparison results between predicted electricity load and actual electricity load in eight testing sets.

[Figure 8a.pdf](results%2FFigure%208a.pdf) and
[Figure 8b.pdf](results%2FFigure%208b.pdf) show the comparison results between predicted wind power and actual wind power in eight testing sets.

## Replicating

The folder `src` contains all the code that generates IAAS search result and comparison experiments.
The major file structure is:
- `src/pyIAAS` implement all the IAAS search code.
- `src/search_net.py` contains the code to run the IAAS search and ablation studies.
- `src/compare` contains all the code to run the comparison experiments.
- `src/generate_report.py` contains all the utility functions that collect data and draw graphs.

To replicate all experiments, please follow the following steps:

- The experiments in Table 1-4 and Table A.2 is finished by running `src/search_net.py` and `src/compare`. And the corresponding Figures (Figure 6-9) are generated by `src/generate_report.py`.
- The experiment in Appendix I (RL Efficiency) is finished by running `src/search_net.py`. Figure A.4, A.5 is generated by `src/generate_report.py`.
- The experiment in Appendix J (Seq2Seq) is finished by running `src/compare.py`. Figure A.6-9 is generated by `src/generate_report.py`.
- The experiment in Appendix K (Heuristic Mechanism Exploration) is finished by running `src/compare.py`. Note that this experiment need to adjust some parameters in `NASConfig_load.json` and `NASConfig_wind.json`. The changed config file is in `data/heuristic`
- The experiment in Appendix L (Ablation Studies) is finished by running `src/search_net.py`.